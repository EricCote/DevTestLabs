{
  "$schema": "https://raw.githubusercontent.com/Azure/azure-devtestlab/master/schemas/2016-11-28/dtlArtifacts.json",
  "title": "SQL SSMS (Modern)",
  "description": "Installs Sql Server Management Studio 21.x",
  "publisher": "Eric Côté",
  "tags": [
    "SQL",
    "SSMS",
    "Management Studio"
  ],
  "iconUri": "https://github.com/EricCote/DevTestLabs/raw/master/Artifacts/windows-ssms/ssms.png",
  "parameters": {
    "Edition": {
      "type": "string",
      "displayName": "Edition",
      "description": "Visual Studio Edition (Enterprise, Professional or Community)",
      "allowedValues": [
        "Enterprise",
        "Professional",
        "Community"
      ],
      "defaultValue": "Community"
    },
    "Version": {
      "type": "string",
      "displayName": "Version",
      "description": "Ssms version (21.0, 22.0)",
      "allowedValues": [
        "21",
        "22"
      ],
      "defaultValue": "21"
    }
  },
  "targetOsType": "Windows",
  "runCommand": {
    "commandToExecute": "[concat('powershell.exe -ExecutionPolicy bypass \" & ''.\\visualstudio.ps1'' -Edition ', parameters('Edition'), ' -Version ', parameters('Version'), ' -Channel ', parameters('Channel'), ' -Workloads ''' , parameters('Workloads')  , ''' -WorkloadList ''' , parameters('WorkloadList')  , ''' -Languages ''' , parameters('Languages')  , '''  -Key ''', parameters('Key'), ''' -Components ''', parameters('Components'), '''  -Restart ''',  parameters('Restart')  , '''  \"' )]"
  }
}