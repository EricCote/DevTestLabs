{
    "$schema": "https://raw.githubusercontent.com/Azure/azure-devtestlab/master/schemas/2016-11-28/dtlArtifacts.json",
    "title": "SQL Server 2016 Developer - Sysprep preparation",
    "description": "Installs Sql Server 2016 Developer on a machine that will be Syspreped. Copies the files but doesn't configure the services. You will need to run the completion step to finish the install after you have imaged the machine with Sysprep.",
    "publisher": "Eric Côté",
    "tags": [
        "SQL",
        "Developer"
    ],
    "iconUri": "https://github.com/EricCote/DevTestLabs/raw/master/Images/vs2017.png",
    
    "parameters": {
        "Key": {
            "type": "string",
            "displayName": "Visual Studio key",
            "description": "Visual Studio key in the format aaaaa-bbbbb-ccccc-ddddd-eeeee. Leave empty for 30 day trial.",
            "allowEmpty": true
        }
    },
    
    "targetOsType": "Windows",
    "runCommand": {
        "commandToExecute": "[concat('powershell.exe -ExecutionPolicy bypass -File vs2017ent.ps1 -key ', padLeft(parameters('Key'),1,'a'))]"
    }
}